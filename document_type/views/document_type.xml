<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2018 MONK Software
     License AGPL-3.0 or later (https://www.gnu.org/licenses/agpl). -->

<odoo>

  <record id="document_type_action_main" model="ir.actions.act_window">
    <field name="name">Document Types</field>
    <field name="res_model">document.type</field>
    <field name="view_mode">tree,form</field>
  </record>

  <record id="ir_attachment_action_document_type" model="ir.actions.act_window">
    <field name="name">Documents</field>
    <field name="res_model">ir.attachment</field>
    <field name="view_type">form</field>
    <field name="view_mode">tree,form</field>
    <field name="context">{'search_default_document_type_id': [active_id], 'default_document_type_id': active_id}</field>
  </record>

  <record id="document_type_view_form" model="ir.ui.view">
    <field name="name">Document types list view</field>
    <field name="model">document.type</field>
    <field name="arch" type="xml">
      <form>
        <sheet>
          <div class="oe_button_box" name="button_box">
			      <button name="%(ir_attachment_action_document_type)d" type="action" class="oe_stat_button" icon="fa-book">
              <field name="documents_count" string="Documents" widget="statinfo"/>
			      </button>
          </div>
          <group>
            <field name="name"/>
            <field name="ir_model_id"/>
          </group>
        </sheet>
      </form>
    </field>
  </record>

  <record id="document_type_view_tree" model="ir.ui.view">
    <field name="name">Document types list view</field>
    <field name="model">document.type</field>
    <field name="arch" type="xml">
      <tree>
        <field name="name"/>
        <field name="ir_model_id"/>
      </tree>
    </field>
  </record>

  <menuitem
      id="document_type_menu"
      name="Document Types"
      action="document_type_action_main"
      parent="knowledge.menu_document_configuration"/>

</odoo>
